<html>

<head>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.6.0/d3.min.js"></script>

  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <link type="text/css" rel="stylesheet" href="http://code.jquery.com/ui/1.9.1/themes/cupertino/jquery-ui.css"></script>
  <link type="text/css" rel="stylesheet" href="ab_document.css" />
  <link type="text/css" rel="stylesheet" href="ab_graph.css" />
</head>

<body>

<div id="setup">
  <h1>Experimental design</h1>

  <div class="questionGroup">
  <div class="question">
    <div class="label">Current conversion rate is</div>
    <div class="mySliderControl">
                   <input id="baserateInput" class="fixed" autocomplete="off"  />%
                   <div class="slider" id="baserateInputSlider" data-min="0" data-max="100" data-default="5" data-step="0.1"></div>
    </div>
    <div class="explain">This is the conversion rate of the control treatment. In medical trials, it is the success rate of the placebo</div>
  </div>

  <div class="question">
    <div class="label">A new treatment needs to increase conversions by</div>
    <div class="mySliderControl">
      <input id="diffInput" class="fixed" autocomplete="off"  />%
      <div class="slider" id="diffInputSlider" data-min="0" data-max="40" data-default="2" data-step="0.1"></div>
    </div>
    <div class="explain"></div>
  </div>

  <div class="question">
    <div class="label">Acceptable false conversion rate <span class="alpha">&alpha;</span> is </div>
    <div class="mySliderControl">
      <input id="alphaInput" class="alpha" autocomplete="off"  />%
      <div   class = "slider" id="alphaInputSlider" data-min = "0" data-max="25" data-default="5" data-step="0.1"></div>
    </div>
    <div class="explain"></div>
  </div>

  <div class="question">
    <div class="label">Acceptable false rejection rate <span class="beta">&beta;</span> is </div>
    <div class="mySliderControl">
      <input id="betaInput" class="beta" autocomplete="off" />%
      <div class = "slider" id = "betaInputSlider" data-min="0" data-max="80" data-default="20" data-step="0.5"> </div>
    </div>
    <div class="explain"></div>
  </div>
</div>

<div class="paramSummary">
  <h2>Experiment design summary</h2>
  <ul>
    <li>The control treatment has a success rate of <span id="alpha3" class="alpha"></span>%</li>
    <li>Worth changing to new treament if its success rate is at least <span id="alternative_min"></span>%</li>
  </ul>

  With the suggested
    <div class="large_suggest"><span id="trials2"></span></div>
  we have two possible ways to make an error:
    <ul>
      <li> If both treatments have the same success rate of <b><span id="our_baserate"></span></b>%, we incur the costs of changing for no benfit <span id="alpha1" class="alpha">&alpha;</span>% of the time.</li>
      <li> If the alternative treatment has a success rate of <span id="alternative_min2" class="beta"></span>%, we reject it and miss out on the benefits <span id="beta1" class="beta">&beta;</span>% of the time.</li>
  </ul>
</div>


  <h3>Suggested number of trials</h3>

  It is suggested that you run your experiment <b><span id="trials1">N</span></b> number of times.

  <div class="question">
    <div class="label">How many trials do you wish to run:</div>
    <div class="mySliderControl">
      <input id="trialInput" class="fixed" autocomplete="off"/>
      <div class="slider2" id="trialInputSlider" data-min = "10" data-max="10000" data-default="1000"></div>
    </div>
    <div id="trialNumberSuggest"></div>
  </div>


  <button id="generateData"> Continue with 1000 trials</button>

</div>



<div id="testResults">
<h1>Results of the two trials</h1>
<div id = "proportion_graph"> </div>
<h1> Cannot comply, Dave</h1>

Currently selected point:
<table>
  <tr><th>Sample Number</th><th>Proportion A</th><th>Proportion B</th></tr>
  <tr><td id="currSample"></td><td id="currA"></td><td id="currB"></td></tr>
  <hr/>
  <tr><td id="totalSample"></td><td id="totalA"></td><td id="totalB"></td></tr>
</table>

</div>

<div id = "conclusion">
  More stuff
</div>

<script type="text/javascript" src="normal_dist.js"></script>
<script type="text/javascript" src="setup_questions.js"></script>


<script type="text/javascript" src="ab_test.js"></script>
<script type="text/javascript" src="ab_graph.js"></script>
</body>
</html>
